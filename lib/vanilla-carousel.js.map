{"version":3,"sources":["../src/vanilla-carousel.js"],"names":["_","require","includes","ViewportDetectionClass","viewport","CarouselClass","config","init","defaults","itemClass","autoPlay","naturalScroll","_initViewport","_init","animating","eventManager","_manageListeners","itemActive","items","_render","device","getDevice","size","windowSize","trackSize","_trackSize","bind","_setCarouselId","_getItems","_setSelectedDefaults","dots","forEach","dot","addEventListener","_dotClick","element","_stopAutoPlay","_restartTimer","button","direction","_navigationClick","item","className","replace","fromPosition","toPosition","style","left","delay","addListener","_animateItemFinish","imageContainer","imageMobile","imageTablet","imageDesktop","_skipTextNodes","getAttribute","isEmpty","setAttribute","_setBackgroundImage","parent","a","span","svg","document","createElement","innerHTML","appendChild","_createArrowNavSvg","_addNavigationListener","i","li","ul","_createArrowNav","pathA","createElementNS","pathB","setAttributeNS","dotsContainer","getElementsByTagName","_getDots","div","id","_createDotsNav","e","preventDefault","index","indexOf","target","itemOut","_setSelected","Array","from","_addDotClickListeners","_setDotAriaSelectedDefaults","_setDotAriaControls","_setDotClass","querySelectorAll","length","_createArrowNavContainer","_createDotsNavContainer","_checkDataURLs","_setItemAriaHiddenDefaults","_setItemId","listenerArray","event","fn","push","removeListeners","cur","removeEventListener","_next","_previous","timer","window","setInterval","_startAutoPlay","url","backgroundImage","uniqueId","ariaSelected","ariaHidden","position","inPosition","outPosition","_setPosition","width","itemIn","_animateItemStart","_setDotAriaSelected","_setItemAriaHidden","_addFocusListeners","el","method","nodeType","nextSibling","isUndefined","clearInterval","undefined","module","exports"],"mappings":"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","file":"vanilla-carousel.js","sourcesContent":["/* eslint-disable max-len */\nconst _                   = require('lodash/core');\n_.includes = require('lodash/includes');\nconst ViewportDetectionClass = require('viewport-detection-es6');\n\nconst viewport = new ViewportDetectionClass();\n\nclass CarouselClass{\n  constructor(config = {}, init = true){\n    this.config = _.defaults(config,\n      {itemClass: 'carousel-item'\n      , autoPlay: false\n      , naturalScroll: true}\n    );\n\n    if (init){\n      this._initViewport();\n      this._init();\n    }\n  }\n\n  _init(){\n    this.animating = false;\n    this.eventManager = this._manageListeners();\n    this.itemActive = 0;\n    this.items = [];\n    this._render();\n  }\n\n  _initViewport(){\n    this.device = viewport.getDevice();\n    this.size = viewport.windowSize();\n    viewport.trackSize(this._trackSize.bind(this));\n  }\n\n  _render(){\n    this._setCarouselId();\n    this._getItems();\n    this._setSelectedDefaults();\n  }\n\n  _addDotClickListeners(){\n    this.dots.forEach((dot)=>{\n      dot.addEventListener('click', this._dotClick.bind(this), false);\n    });\n  }\n\n  _addFocusListeners(){\n    this.config.element.addEventListener('mouseenter'\n                                        , this._stopAutoPlay.bind(this)\n                                        , false);\n\n    this.config.element.addEventListener('mouseleave'\n                                        , this._restartTimer.bind(this)\n                                        , false);\n  }\n\n  _addNavigationListener(button, direction){\n    button.addEventListener('click',\n                            this._navigationClick.bind(this, button, direction)\n                            , false);\n  }\n\n  _animateItemFinish(item){\n    this.animating = false;\n\n    item.className = item.className.replace(/(?:^|\\s)animating(?!\\S)/g, '');\n  }\n\n  _animateItemStart(item, fromPosition, toPosition){\n    item.style.left = fromPosition;\n\n    _.delay(()=>{\n      this.animating = true;\n      item.style.left = toPosition;\n      item.className += ' animating';\n    }, 100);\n\n    this.eventManager.addListener(item\n                                 , 'transitionend'\n                                 , this._animateItemFinish.bind(this, item));\n  }\n\n  _checkDataURLs(){\n    let imageContainer, imageMobile, imageTablet, imageDesktop;\n\n    this.items.forEach((item)=>{\n      imageContainer = this._skipTextNodes(item, 'firstChild');\n      imageMobile = imageContainer.getAttribute('data-mobile');\n      imageTablet = imageContainer.getAttribute('data-tablet');\n      imageDesktop = imageContainer.getAttribute('data-desktop');\n\n      if ((!_.isEmpty(imageMobile)) && (!_.isEmpty(imageTablet)) && (!_.isEmpty(imageDesktop))){\n        item.setAttribute('data-urls', 'true');\n        this._setBackgroundImage(imageContainer, this.device);\n      } else {\n        item.setAttribute('data-urls', 'false');\n      }\n    });\n  }\n\n  _createArrowNav(direction, parent){\n    let a, span, svg;\n\n    a = document.createElement('a');\n    span = document.createElement('span');\n\n    a.setAttribute('href', '#');\n\n    span.innerHTML = direction;\n    a.appendChild(span);\n    svg = this._createArrowNavSvg(direction);\n    a.appendChild(svg);\n    this._addNavigationListener(a, direction);\n\n    parent.appendChild(a);\n  }\n\n  _createArrowNavContainer(){\n    let i, li, ul;\n\n    ul = document.createElement('ul');\n    ul.className = 'carousel-arrows-container';\n\n    for (i = 0; i < 2; i++){\n      li = document.createElement('li');\n\n      li.className = i === 0 ? 'previous' : 'next';\n      this._createArrowNav(i === 0 ? 'previous' : 'next', li);\n\n      ul.appendChild(li);\n    }\n\n    this.config.element.appendChild(ul);\n  }\n\n  _createArrowNavSvg(direction){\n    let pathA = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    let pathB = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    let svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n    svg.setAttribute('fill', '#4a4a4a');\n    svg.setAttribute('height', '48');\n    svg.setAttribute('viewBox', '0 0 24 24');\n    svg.setAttribute('width', '48');\n    svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\n    if (direction === 'next'){\n      pathA.setAttributeNS(null\n                          , 'd'\n                          , 'M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z');\n      pathB.setAttributeNS(null\n                          , 'd'\n                          , 'M0-.25h24v24H0z');\n    } else {\n      pathA.setAttributeNS(null\n                          , 'd'\n                          /* eslint-disable max-len */\n                          , 'M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z');\n                          /* eslint-enable */\n      pathB.setAttributeNS(null\n                          , 'd'\n                          , 'M0-.5h24v24H0z');\n    }\n\n    pathB.setAttribute('fill', 'none');\n\n    svg.appendChild(pathA);\n    svg.appendChild(pathB);\n\n    return svg;\n  }\n\n  _createDotsNav(){\n    let a, li, span;\n    let ul = this.dotsContainer.getElementsByTagName('ul')[0];\n\n    this.items.forEach(()=>{\n      a = document.createElement('a');\n      li = document.createElement('li');\n      span = document.createElement('span');\n\n      a.setAttribute('href', '#');\n\n      span.className = 'hidden';\n      span.innerHTML = 'view carousel item';\n\n      a.appendChild(span);\n      li.appendChild(a);\n      ul.appendChild(li);\n    });\n\n    this._getDots();\n  }\n\n  _createDotsNavContainer(){\n    let div = document.createElement('div');\n    let ul = document.createElement('ul');\n    this.dotsContainer = document.createElement('div');\n\n    div.className = 'carousel-dots';\n    this.dotsContainer.id = 'carousel-dots-container';\n\n    div.appendChild(ul);\n    this.dotsContainer.appendChild(div);\n    this.config.element.appendChild(this.dotsContainer);\n\n    this._createDotsNav();\n  }\n\n  _dotClick(e){\n    e.preventDefault();\n\n    let index = _.indexOf(this.dots, e.target);\n\n    if (!this.animating){\n      if (this.itemActive !== index){\n        this.itemOut = this.itemActive;\n        this.itemActive = index;\n\n        this._setSelected('next');\n      }\n    }\n  }\n\n  _getDots(){\n    this.dots = Array.from(this.dotsContainer.getElementsByTagName('a'));\n\n    this._addDotClickListeners();\n    this._setDotAriaSelectedDefaults();\n    this._setDotAriaControls();\n    this._setDotClass();\n  }\n\n  _getItems(){\n    this.items = Array.from(this.config.element.querySelectorAll('.' + this.config.itemClass));\n\n    if (this.items.length > 1){\n      this._createArrowNavContainer();\n      this._createDotsNavContainer();\n    }\n\n    this._checkDataURLs();\n    this._setItemAriaHiddenDefaults();\n    this._setItemId();\n  }\n\n  _manageListeners(){\n    let listenerArray = [];\n\n    return {\n      addListener: (target, event, fn)=>{\n        listenerArray.push({\n          target: target\n          , event: event\n          , fn: fn\n        });\n\n        target.addEventListener(event, fn, false);\n      }\n\n      , removeListeners: ()=>{\n        if (listenerArray.length > 0){\n          listenerArray.forEach((cur)=>{\n            cur.target.removeEventListener(cur.event, cur.fn, false);\n            cur.target.className.replace(/(?:^|\\s)animating(?!\\S)/g, '');\n          });\n\n          listenerArray = [];\n        }\n      }\n    };\n  }\n\n  _navigationClick(button, direction, e){\n    e.preventDefault();\n\n    if (!this.animating){\n      this.itemOut = this.itemActive;\n\n      if (direction === 'next'){\n        this._next();\n      } else {\n        this._previous();\n      }\n    }\n  }\n\n  _next(){\n    if (this.itemActive < this.items.length - 1){\n      this.itemActive++;\n    } else {\n      this.itemActive = 0;\n    }\n\n    this._setSelected('next');\n  }\n\n  _previous(){\n    if (this.itemActive > 0){\n      this.itemActive--;\n    } else {\n      this.itemActive = this.items.length - 1;\n    }\n\n    this._setSelected('previous');\n  }\n\n  _restartTimer(){\n    this._stopAutoPlay();\n\n    this.timer = window.setInterval(this._startAutoPlay.bind(this), 5000);\n  }\n\n  _setBackgroundImage(imageContainer, device){\n    let url = imageContainer.getAttribute('data-' + device);\n\n    imageContainer.style.backgroundImage = 'url(' + url + ')';\n  }\n\n  _setCarouselId(){\n    this.config.element.id = _.uniqueId('carousel-');\n  }\n\n  _setDotAriaControls(){\n    this.dots.forEach((dot, i)=>{\n      dot.setAttribute('aria-controls'\n                       , `${this.config.element.id}-item-${i + 1}`);\n    });\n  }\n\n  _setDotAriaSelected(){\n    this.dots.forEach((dot)=>{\n      if (dot === this.dots[this.itemActive]){\n        dot.setAttribute('aria-selected', 'true');\n      } else {\n        let ariaSelected = dot.getAttribute('aria-selected');\n\n        if (ariaSelected === 'true'){\n          dot.setAttribute('aria-selected', 'false');\n        }\n      }\n    });\n  }\n\n  _setDotAriaSelectedDefaults(){\n    this.dots.forEach((dot)=>{\n      dot.setAttribute('aria-selected'\n                       , dot === this.dots[this.itemActive] ?\n                       'true' : 'false');\n    });\n  }\n\n  _setDotClass(){\n    this.dots.forEach((dot)=>{\n      if (dot === this.dots[this.itemActive]){\n        dot.className += ' active';\n      } else {\n        let className = dot.className;\n\n        if (_.includes(className, 'active')){\n          dot.className = className.replace(/(?:^|\\s)active(?!\\S)/g, '');\n        }\n      }\n    });\n  }\n\n  _setItemAriaHidden(){\n    this.items.forEach((item)=>{\n      if (item === this.items[this.itemActive]){\n        item.setAttribute('aria-hidden', 'false');\n      } else {\n        let ariaHidden = item.getAttribute('aria-hidden');\n\n        if (ariaHidden === 'false'){\n          item.setAttribute('aria-hidden', 'true');\n        }\n      }\n    });\n  }\n\n  _setItemAriaHiddenDefaults(){\n    this.items.forEach((item)=>{\n      item.setAttribute('aria-hidden'\n                        , item === this.items[this.itemActive] ?\n                        'false' : 'true');\n    });\n  }\n\n  _setItemId(){\n    this.items.forEach((item, i)=>{\n      item.id = `${this.config.element.id}-item-${i + 1}`;\n    });\n  }\n\n  _setPosition(direction, position){\n    let inPosition, outPosition;\n\n    if (direction === 'next'){\n      if (this.config.naturalScroll){\n        inPosition = position;\n        outPosition = -position;\n      } else {\n        inPosition = -position;\n        outPosition = position;\n      }\n    } else if (direction === 'previous'){\n      if (this.config.naturalScroll){\n        inPosition = -position;\n        outPosition = position;\n      } else {\n        inPosition = position;\n        outPosition = -position;\n      }\n    }\n\n    return {\n      inPosition: inPosition + 'px'\n      , outPosition: outPosition + 'px'\n    };\n  }\n\n  _setSelected(direction){\n    let position = this._setPosition(direction, this.size.width);\n\n    this.eventManager.removeListeners();\n    this.itemIn = this.itemActive;\n    this._animateItemStart(this.items[this.itemIn], position.inPosition, 0);\n    this._animateItemStart(this.items[this.itemOut], 0, position.outPosition);\n    this._setDotAriaSelected();\n    this._setDotClass();\n    this._setItemAriaHidden();\n  }\n\n  _setSelectedDefaults(){\n    this.items.forEach((item)=>{\n      item.style.left = item === this.items[this.itemActive] ?\n                        0 : this.size.width + 'px';\n    });\n\n    if (this.config.autoPlay && this.items.length > 1){\n      this._addFocusListeners();\n      this._restartTimer();\n    }\n  }\n\n  _skipTextNodes(el, method){\n    let element = el[method];\n\n    while (element !== null && element.nodeType !== 1){\n      element = element.nextSibling;\n    }\n\n    return element;\n  }\n\n  _startAutoPlay(){\n    this.itemOut = this.itemActive;\n\n    if (this.itemActive < this.items.length - 1){\n      this.itemActive++;\n    } else {\n      this.itemActive = 0;\n    }\n\n    this._setSelected('next');\n  }\n\n  _stopAutoPlay(){\n    if (!this.animating && !_.isUndefined(this.timer)){\n      window.clearInterval(this.timer);\n\n      this.timer = undefined;\n    }\n  }\n\n  _trackSize(device, size){\n    let item = this.items[this.itemActive];\n\n    if (this.device !== device){\n      this.device = device;\n\n      if (item.getAttribute('data-urls') === 'true'){\n        let imageContainer = this._skipTextNodes(item, 'firstChild');\n        this._setBackgroundImage(imageContainer, this.device);\n      }\n    }\n\n    this.size = size;\n  }\n}\n\nmodule.exports = CarouselClass;\n/* eslint-enable */\n"]}